#!/usr/bin/env bash

border=2

case "$1" in
list)
    printf "%s\n" region monitor window
    ;;
region)
    slurp
    ;;
monitor)
    slurp -o
    ;;
window)
    swaymsg -t get_tree | jq --argjson b $border -r '.. | select(.pid? and .visible?) | .rect | "\(.x + $b),\(.y + $b) \(.width - $b*2)x\(.height - $b*2)"' | slurp
    ;;
*)
    exit 1
    ;;
esac
