#!/usr/bin/env bash

foot >/dev/null 2>&1 &
pid=$!
disown

sleep 0.1
swaymsg "[pid=$pid]" "split vertical, layout tabbed"

sleep 0.1
container_id="$(swaymsg -t get_tree | jq --argjson pid "$pid" -r '.. | select(.type? == "con" and .nodes[0].pid == $pid) | .id')"
swaymsg "[con_id=$container_id]" "floating enable, move scratchpad"
