#!/usr/bin/env bash
# shellcheck disable=SC2064

# requires:
# - playerctl

function pctl() {
    playerctl --no-messages --ignore-player chromium,chrome,qutebrowser,firefox "$@" 2>/dev/null
}

pctl --follow metadata -f "{{lc(status)}} ‘{{title}}’" &
trap "kill $!" EXIT

while read -r button; do
    case "$button" in
    1) pctl play-pause >/dev/null ;; # left click
    3) pctl stop >/dev/null ;;       # right click
    esac
done
