#!/usr/bin/env bash

# Senan Kelly 2019

if [[ -z "$1" ]]; then
    echo "please provide an adjustment or setting" >&2
    exit 1
fi

if [[ "$1" =~ ^[\-\+][0-9\.]+$ ]]; then
    adjustment=$(sed 's/+//g' <<< "$1")
    current_gamma=$(xgamma 2>&1 | awk '{print $NF}')
    new_gamma=$(bc <<< "$current_gamma + $adjustment")
    xgamma -gamma "$new_gamma"
else
    xgamma -gamma "$1"
fi
