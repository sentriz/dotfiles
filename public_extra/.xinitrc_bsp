# vim: ft=sh

userresources=$HOME/.Xresources
sysresources=/etc/X11/xinit/.Xresources
sysmodmap=/etc/X11/xinit/.Xmodmap

[[ -f "$sysresources" ]]  && xrdb -merge "$sysresources"
[[ -f "$userresources" ]] && xrdb -merge "$userresources"
[[ -f "$usermodmap" ]]    && xmodmap "$usermodmap"

if [[ -d /etc/X11/xinit/xinitrc.d ]]; then
    for file in /etc/X11/xinit/xinitrc.d/?*.sh; do
        [[ -x "$file" ]] && . "$file"
    done
    unset file
fi

setxkbmap ie
xmodmap -e "keycode 166 = F13"
xmodmap -e "keycode 167 = F14"
xmodmap -e "keycode 66 = F15"
xmodmap -e "clear Lock" &
xset r rate 300 &

xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation" 1
xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation Button" 2
xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation Timeout" 200
xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation Axes" 6 7 4 5
xinput set-prop "TPPS/2 IBM TrackPoint" "Device Accel Constant Deceleration" 0.25 &

xrandr --output LVDS1 --primary &
# compton -b &
# ~/.fehbg &
thinkpad-touchpad off &
urxvtd &
sxhkd &
# redshift-gtk &
# dunst &
# clipit &
# xdotool behave_screen_edge bottom-right exec --sync ~/bin/lock &

exec bspwm
